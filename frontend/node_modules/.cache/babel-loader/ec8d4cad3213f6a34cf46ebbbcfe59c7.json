{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0420\\u043E\\u043C\\u0430\\u043D/Desktop/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var BASE_URL=\"https://auth.nomoreparties.co\";var HEADERS={Accept:\"application/json\",\"Content-Type\":\"application/json\"};var checkResult=function checkResult(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}};export var register=function register(email,password){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:\"POST\",headers:HEADERS,body:JSON.stringify({email:email,password:password})}).then(checkResult);};export var authorize=function authorize(email,password){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:\"POST\",headers:HEADERS,body:JSON.stringify({email:email,password:password})}).then(checkResult);};export var checkToken=function checkToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:\"GET\",headers:_objectSpread(_objectSpread({},HEADERS),{},{Authorization:\"Bearer \".concat(token)})}).then(checkResult);};","map":{"version":3,"sources":["C:/Users/Роман/desktop/dev/react-mesto-api-full/frontend/src/utils/Auth.js"],"names":["BASE_URL","HEADERS","Accept","checkResult","res","ok","json","Promise","reject","status","register","email","password","fetch","method","headers","body","JSON","stringify","then","authorize","checkToken","token","Authorization"],"mappings":"sKAAA,MAAO,IAAMA,CAAAA,QAAQ,CAAG,+BAAjB,CAEP,GAAMC,CAAAA,OAAO,CAAG,CACdC,MAAM,CAAE,kBADM,CAEd,eAAgB,kBAFF,CAAhB,CAKA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,GAAD,CAAS,CAC3B,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEO,CACL,MAAOC,CAAAA,OAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAAP,CACD,CACF,CAND,CAQA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAQC,QAAR,CAAqB,CAC3C,MAAOC,CAAAA,KAAK,WAAIb,QAAJ,YAAuB,CACjCc,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAEd,OAFwB,CAGjCe,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBP,KAAK,CAALA,KADmB,CAEnBC,QAAQ,CAARA,QAFmB,CAAf,CAH2B,CAAvB,CAAL,CAQNO,IARM,CAQDhB,WARC,CAAP,CASD,CAVM,CAYP,MAAO,IAAMiB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACT,KAAD,CAAQC,QAAR,CAAqB,CAC5C,MAAOC,CAAAA,KAAK,WAAIb,QAAJ,YAAuB,CACjCc,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAEd,OAFwB,CAGjCe,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEP,KAAK,CAALA,KAAF,CAASC,QAAQ,CAARA,QAAT,CAAf,CAH2B,CAAvB,CAAL,CAKNO,IALM,CAKDhB,WALC,CAAP,CAMD,CAPM,CASP,MAAO,IAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CACnC,MAAOT,CAAAA,KAAK,WAAIb,QAAJ,cAAyB,CACnCc,MAAM,CAAE,KAD2B,CAEnCC,OAAO,gCACFd,OADE,MAELsB,aAAa,kBAAYD,KAAZ,CAFR,EAF4B,CAAzB,CAAL,CAONH,IAPM,CAODhB,WAPC,CAAP,CAQD,CATM","sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst HEADERS = {\r\n  Accept: \"application/json\",\r\n  \"Content-Type\": \"application/json\",\r\n};\r\n\r\nconst checkResult = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n};\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: HEADERS,\r\n    body: JSON.stringify({\r\n      email,\r\n      password,\r\n    }),\r\n  })\r\n  .then(checkResult);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: HEADERS,\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n  .then(checkResult);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      ...HEADERS,\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n  .then(checkResult);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}